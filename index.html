<!DOCTYPE html>
<html lang="en">
<head>
  <title>BMDX library</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="description" content="A C++ library for exchanging messages and high-level objects between processes and binary modules inside them."> 
  <meta name="keywords" content="BMDX, C++, open-source, data exchange, message, queue, inter-process, communication, binary object, high-level object, shared library, compiler, compatibility, cross-platform, platform-independent"> 
  <meta name="google-site-verification" content="1p6e_bM8wYQSdPI4RcIprpOiuLC5pV-aal0nDnFrbqQ" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/png" href="bmdx_icon.png">
  <style>a:link{ color: #0070a0; }</style>
  <style>a:hover{ color: #70c070; }</style>
  <style>a:visited{ color: #a0a0a0; }</style>
  <style>table.z1{ width: 614px; text-align: center; padding: 4px; border-spacing: 0px; border: 2px solid #FF4040; }</style>
  <style>table.z2{ width: 600px; text-align: center; padding: 4px; border-spacing: 0px; border: 2px solid #FF4040; }</style>
  <style>table.z5{ width: 614px; text-align: center; padding: 4px; border-spacing: 0px; border: 0; background-color: #f4f4f4; }</style>
  <style>table.z6{ width: 100%; padding: 0; border-spacing: 0px; border: 0; }</style>
  <style>td.z3{ padding: 4px; border-spacing: 0; border: 2px solid #FF4040; }</style>
  <style>td.z4{ padding-bottom: 4px; border-spacing: 0; border: 0px; }</style>
  <style>td.z7{ text-align: center; vertical-align: middle; background-color: #f4f4f4; }</style>
  <style>h1.z7{ padding: 0; margin-top: 5px; margin-bottom: 10px; }</style>
  <style>pre.z7{ padding: 0; margin: 0; }</style>
</head>
<body>
<table class="z6">
  <tr>
    <td><h1 class="z7">BMDX</h1></td>
    <td class="z7" style="width: 160px;"><i><a href="index_ru.html">по-русски&nbsp;&gt;&gt;&gt;</a></i></td>
  </tr>
</table>
(binary modules data exchange)

<pre>
A C++ library for <b>exchanging messages and high-level objects</b> between processes and binary modules inside them.


<b>Source code</b> - full: <b><a href="cpp_bmdx_1.4_r1.zip">(zip) &gt;&gt;&gt;</a></b>

<b>Source code</b> - separate files (possibilities of partial including are shown in red):
</pre>
<table class="z1">
	<tr>
		<td class="z4">
			<table class="z2">
				<tr style="height: 35px;">
					<td class="z3" style="width: 210px;"><pre class="z7"><b><a href="src/bmdx_cpiomt.h">bmdx_cpiomt.h</a></b></pre></td>
					<td class="z4" rowspan="2" style="width: 180px;"><pre class="z7"><img src="arrows1.png" alt="arrows1.png"/><br/><b><a href="src/bmdx_config.h">bmdx_config.h</a></b></pre></td>
					<td class="z3" style="width: 210px;"><pre class="z7"><b><a href="src/vecm_hashx.h">vecm_hashx.h</a></b></pre></td>
				</tr>
				<tr><td></td><td></td></tr>
			</table>
			<pre class="z7"><img src="arrows2.png" alt="arrows2.png"/><br/><b><a href="src/bmdx_main.h">bmdx_main.h</a>, <a href="src/bmdx_main.cpp">bmdx_main.cpp</a></b></pre>
		</td>
	</tr>
</table>
<table class="z5">
  <tr><td><pre class="z7"><b><a href="src/arch_notes.txt">arch_notes.txt</a></b></pre></td></tr>
</table>
<pre>
Source code of <b>the examples</b>: <b><a href="#examples">see below &gt;&gt;&gt;</a></b>

<span style="font-size: larger;"><b>BMDX - features</b></span>

&gt; Highly efficient data transfer and storage.

&gt; Objects of all main classes of BMDX may be passed by pointer between dynamically loaded libraries
  and main module (executable); object's binary structure behaves correctly everywhere on particular platform,
  independently of the set of compilers used to build the modules.

&gt; For mainstream desktop and mobile platforms, the library supplies a number of wrappers around system API,
  for writing platform-independent code in multitude of everyday programming tasks,
  except for GUI- and network-related.

&gt; Target system architecture: AMD64 and x86.

&gt; Compatibility with certain mobile device architectures.

&gt; Compatibility with WebAssembly, except for shared memory and multithreading.

&gt; Compatibility with С++98/C99, C++11, C++14.

&gt; Simplified source code structure (5 files), with possibility of partial including.

&gt; The library is regularly tested with a number of OS and compilers:
  Windows, Ubuntu, FreeBSD, macOS, Solaris, Android, iOS.
  GCC, Clang, MinGW32, MinGW-w64, MSVC, Intel C++, Embarcadero C++, Sun C++.
  (Remark. Some of the above titles refer to official names of companies, registered trademarks and software products.)

<span style="font-size: larger;"><b>BMDX - 10 leading classes</b></span>

1. dispatcher_mt - address-based message exchange, in- and inter-process.
  Ensures fast transfer of large binary attachments, up to long-term 6..8 GB/s on average 4-core CPU.
  The speed is of same order as in known MPI implementations (MPICH, OpenMPI).
  Allows for direct in-process passing arbitrary user objects, wrapped for proper memory management and locking.

2. unity - polymorphic container for data and objects. Similar to widely known "variant" type.
  In addition to scalars, strings, arrays and user objects, supports two kinds of associative arrays
  and dynamically attachable interfaces for user objects.

3. pcos - in-process common objects storage, accessible from main executable and shared libraries.

4. mod_handle - a wrapper around shared libraries (.dll, .so) handles.

5. hashx - partially ordered hashed associative array.
  Places elements in the order of keys insertion, keeping that order until removal of a key.
  Optimized for fast keys insertion. Integer key insertion takes down to ~55 ns on average PC.

6. cref_t - polymorphic smart pointer. Allows for customized creation and placement of the main object,
  storing hidden auxiliary object in addition to main object,
  customized handlers for reference counting, destruction, deallocation events.

7. critsec_t - a wrapper around standard APIs for locks (pthread_mutex_lock and the like),
  with client-specified wait times.

8. threadctl - a controlling class for CPU thread.
  Supports arguments passing, signal flag, thread priority setting, thread termination (based on system API).

9. vnnqueue_t - non-blocking queue for objects. The supplying and the receiving sides may be in different threads.
  Queued objects are never copied or moved on queue size change.
  Storage place, freed on popping, is automatically reused when necessary.
  The queue supports client-specified capacity fixation and change modes.

10. shmobj2s_t - a wrapper for user object, placed in shared memory.

+. Full API of the library includes also several tens frequently used containers, helper classes and functions.
  Below, there are some of them, with relatively understandable names:
  carray_t, cpparray_t, arrayref_t, processctl, multithread, shmqueue_s, file_io, file_utils, paramline, vec2_t.

<span id="examples" style="font-size: larger;"><b>BMDX - use examples</b></span>

Source code - <b>5 use examples</b>: <b><a href="cpp_bmdx_1.4_examples.zip">(zip) &gt;&gt;&gt;</a></b>

Due to excess of possible applications, the given examples comprise only two key functions -
address-based message sending, and direct calls to objects, passed between binary modules inside a process.
These functions are intended for high-performance applications that are multi-process and/or plugin-based.

<b>Example 1</b>. dispatcher_mt: bulk transfer (message + large binary attachment).
<b>Example 2</b>. dispatcher_mt: "failsafe" propagation of keypress events across the group of terminal windows.
  On stopping or terminating the running example process that plays the role of server,
  one of the remaining processes automatically takes its place.
  (This small example demonstrates message delivery by subscription.)
<b>Example 3</b>. dispatcher_mt: strong-bound call between CPU threads.
  Thread A calls a function, executed by thread B, and waits for the returned value or error code.
<b>Example 4</b>. shmqueue_s: simple data (typed text) transfer via shared memory.
<b>Example 5</b>. Primitive plugin host. The example illustrates high-level interaction of heterogeneous modules
  (i.e. built with different compilers) - the main module (executable) and the dynamically loaded libraries.

<span style="font-size: larger;"><b>BMDX - the plan for future development</b></span>

1. Extend the message dispatcher with TCP controller and abstract controller,
  to support unified addressable data exchange across the network and non-standard devices,
  in addition to in-computer exchange.

2. Write wrappers for message dispatcher API in certain high-level languages (Java, Python, C#).

<span style="font-size: larger;"><b>Contact info</b></span>

See e-mail addresses at the top of any header file in the library.

<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>

</pre>
</body></html>
