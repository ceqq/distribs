<!DOCTYPE html>
<html lang="ru">
<head>
  <title>Библиотека BMDX</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="description" content="Библиотека на C++ для обмена сообщениями и высокоуровневыми объектами между процессами и двоичными модулями внутри процесса."> 
  <meta name="keywords" content="BMDX, C++, открытый код, обмен данными, сообщение, очередь, межпроцессный, коммуникация, двоичный объект, высокоуровневый объект, динамически загружаемая библиотека, компилятор, совместимость, кросс-платформенный, платформенно-независимый"> 
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/png" href="bmdx_icon.png">
  <style>a:link{ color: #0070a0; }</style>
  <style>a:hover{ color: #70c070; }</style>
  <style>a:visited{ color: #a0a0a0; }</style>
  <style>table.z1{ width: 614px; text-align: center; padding: 4px; border-spacing: 0px; border: 2px solid #FF4040; }</style>
  <style>table.z2{ width: 600px; text-align: center; padding: 4px; border-spacing: 0px; border: 2px solid #FF4040; }</style>
  <style>table.z5{ width: 614px; text-align: center; padding: 4px; border-spacing: 0px; border: 0; background-color: #f4f4f4; }</style>
  <style>table.z6{ width: 100%; padding: 0; border-spacing: 0px; border: 0; }</style>
  <style>td.z3{ padding: 4px; border-spacing: 0; border: 2px solid #FF4040; }</style>
  <style>td.z4{ padding-bottom: 4px; border-spacing: 0; border: 0px; }</style>
  <style>td.z7{ text-align: center; vertical-align: middle; background-color: #f4f4f4; }</style>
  <style>h1.z7{ padding: 0; margin-top: 5px; margin-bottom: 10px; }</style>
  <style>pre.z7{ padding: 0; margin: 0; }</style>
</head>
<body>
<table class="z6">
  <tr>
    <td><h1 class="z7">BMDX</h1></td>
    <td class="z7" style="width: 160px;"><i><a href="index.html">English&nbsp;&gt;&gt;&gt;</a></i></td>
  </tr>
</table>
(binary modules data exchange)

<pre>
Библиотека на C++ <b>для обмена сообщениями и высокоуровневыми объектами</b> между процессами и двоичными модулями внутри процесса.


<b>Исходный код</b> - полный архив: <b><a href="cpp_bmdx_1.4_r12.zip">(zip) &gt;&gt;&gt;</a></b>

<b>Исходный код</b> - отдельные файлы (красным показаны возможности включения частями):
</pre>
<table class="z1">
	<tr>
		<td class="z4">
			<table class="z2">
				<tr style="height: 35px;">
					<td class="z3" style="width: 210px;"><pre class="z7"><b><a href="src/bmdx_cpiomt.h">bmdx_cpiomt.h</a></b></pre></td>
					<td class="z4" rowspan="2" style="width: 180px;"><pre class="z7"><img src="arrows1.png" alt="arrows1.png"/><br/><b><a href="src/bmdx_config.h">bmdx_config.h</a></b></pre></td>
					<td class="z3" style="width: 210px;"><pre class="z7"><b><a href="src/vecm_hashx.h">vecm_hashx.h</a></b></pre></td>
				</tr>
				<tr><td></td><td></td></tr>
			</table>
			<pre class="z7"><img src="arrows2.png" alt="arrows2.png"/><br/><b><a href="src/bmdx_main.h">bmdx_main.h</a>, <a href="src/bmdx_main.cpp">bmdx_main.cpp</a></b></pre>
		</td>
	</tr>
</table>
<table class="z5">
  <tr><td><pre class="z7"><b><a href="src/arch_notes.txt">arch_notes.txt</a></b></pre></td></tr>
</table>
<pre>
Исходный код <b>примеров</b>: <b><a href="#examples">см. ниже &gt;&gt;&gt;</a></b>

<span style="font-size: larger;"><b>BMDX - особенности</b></span>

&gt; Высокая эффективность передачи и хранения данных.

&gt; Объекты всех основных классов BMDX могут передаваться по указателю
  между динамически загруженными библиотеками и основным модулем;
  обеспечено корректное функционирование и совместимость двоичной структуры объекта в пределах платформы
  независимо от набора используемых компиляторов.

&gt; Реализованы унифицированные классы-обёртки над API основных операционных систем для настольных
  и мобильных устройств, для решения повседневных задач, не связанных с графическим интерфейсом и сетью

&gt; Целевая системная архитектура: AMD64, x86, arm64-v8a.

&gt; Совместимость с WebAssembly, за исключением разделяемой памяти и многопотоковости.

&gt; Совместимость со стандартами С++98(C99),11,14,17.

&gt; Упрощённая структура исходного кода (5 файлов), с возможностью включения частями.

&gt; Краткий перечень ОС и компиляторов, с которыми код библиотеки тестируется на постоянной основе:
  Windows, Ubuntu, FreeBSD, macOS, Solaris, Android, iOS.
  GCC, Clang, MinGW32, MinGW-w64, MSVC, Intel C++, Embarcadero C++, Sun C++.
  (Прим. Некоторые из вышеперечисленных названий включают официальные названия компаний
  и зарегистрированные товарные знаки.)

<span style="font-size: larger;"><b>BMDX - 10 ведущих классов</b></span>

1. dispatcher_mt - адресный обмен сообщениями внутри процесса и между процессами.
  Обеспечена скоростная передача объёмных двоичных вложений, до 6..8 GB/s (продолжительно) на среднем 4-ядерном ЦП.
  Скорость - того же порядка, что и в известных реализациях MPI (MPICH, OpenMPI).
  Также допускает прямую передачу произвольных объектов внутри процесса, в обёртке, обеспечивающей управление памятью.

2. unity - полиморфный контейнер для данных и объектов. Подобен общеизвестному типу "variant".
  Помимо скаляров, строк, массивов и пользовательских объектов, поддерживает два вида ассоциативных массивов
  и динамически добавляемые интерфейсы пользовательских объектов.

3. pcos - общее хранилище объектов, доступное основному модулю и всем динамическим библиотекам.

4. mod_handle - обёртка над хэндлами динамических библиотек (.dll, .so).

5. hashx - частично упорядоченный хэшированный ассоциативный массив.
  Располагает элементы в порядке вставки ключей, поддерживая его до первого удаления ключа.
  Оптимизирован для скоростной вставки ключей. Время вставки целочисленного ключа ~55 ns на среднем ПК.

6. cref_t - полиморфный умный указатель. Поддерживает хранение скрытого объекта в дополнение к основному,
  пользовательское создание нового объекта, пользовательские обработчики событий счётчика ссылок
  и удаления основного объекта.

7. critsec_t - обёртка над стандартными API блокировок (pthread_mutex_lock и т. п.), с настройкой времени ожидания.

8. threadctl - управляющий класс потока выполнения.
  Поддерживает передачу аргументов, сигнальный флаг, установку приоритета потока, принудительное прерывание потока.

9. vnnqueue_t - неблокирующая очередь объектов. Поставщик и приёмник могут работать в разных потоках.
  Объекты, поставленные в очередь, не копируются и не перемещаются при изменении её размера.
  Место, освобождённое при снятии объектов, автоматически используется повторно.
  Режим фиксации и изменения ёмкости очереди задаётся клиентом.

10. shmobj2s_t - обёртка для объекта пользователя, размещаемого в разделяемой памяти.

+. Полный API библиотеки включает также несколько десятков часто используемых контейнеров,
  вспомогательных классов и функций.
  Вот некоторые из них, с относительно понятными названиями:
  carray_t, cpparray_t, arrayref_t, processctl, multithread, shmqueue_s, file_io, file_utils, paramline, vec2_t.

<span id="examples" style="font-size: larger;"><b>BMDX - примеры использования</b></span>

Исходный код - <b>5 примеров использования</b>: <b><a href="cpp_bmdx_1.4_examples.zip">(zip) &gt;&gt;&gt;</a></b>

Из-за избытка возможных приложений, приведённые примеры знакомят только с двумя ключевыми функциями -
адресной передачей сообщений и прямыми вызовами объектов, переданных между двоичными модулями
одного процесса.
Эти функции предназначены для скоростных приложений, основанных на плагинах и взаимодействующих процессах.

<b>Пример 1</b>. dispatcher_mt: передача сообщений с большим объёмом двоичных вложений.
<b>Пример 2</b>. dispatcher_mt: "устойчивое к сбоям" распространение событий нажатий клавиш
  между группой (окон) терминалов. При выходе или прерывании процесса, выполняющего роль сервера,
  другой процесс автоматически занимает его место.
  (Этот небольшой пример иллюстрирует передачу сообщений по подписке.)
<b>Пример 3</b>. dispatcher_mt: сильно-связанный вызов между потоками.
  Поток А вызывает функцию, выполняемую потоком Б, и ожидает получения возвращаемого значения либо кода ошибки.
<b>Пример 4</b>. shmqueue_s: простая передача данных (вводимого текста) через разделяемую память.
<b>Пример 5</b>. Примитивный хост плагинов. Пример иллюстрирует высокоуровневое взаимодействие разнородных
  (т.е. собранных разными компиляторами) модулей: основного, и динамически загруженных библиотек.

<span style="font-size: larger;"><b>BMDX - план дальнейшей разработки</b></span>

1. Добавить в диспетчер сообщений контроллер TCP и абстрактный контроллер,
для унификации адресного обмена данными по сети и между нестандартными устройствами,
в дополнение к обмену внутри компьютера.

2. Создать обёртки API диспетчера сообщений для некоторых языков высокого уровня (Java, Python, C#).

<span style="font-size: larger;"><b>Контактная информация</b></span>

См. e-mail в начале любого из заголовочных файлов библиотеки.

<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>

</pre>
</body></html>
